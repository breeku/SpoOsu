{"ast":null,"code":"import _slicedToArray from \"F:\\\\web_dev\\\\github\\\\SpoOsu\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"F:\\\\web_dev\\\\github\\\\SpoOsu\\\\client\\\\src\\\\components\\\\Callback.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router\";\nimport axios from \"axios\";\n\nconst Callback = props => {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        token = _useState2[0],\n        setToken = _useState2[1];\n\n  const api = \"https://accounts.spotify.com/api/token\";\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      \"Access-Control-Allow-Origin\": \"https://accounts.spotify.com/api/token\"\n    }\n  };\n  const authCode = {\n    grant_type: 'authorization_code',\n    code: props.location.search.slice(6),\n    redirect_uri: 'http://localhost:3000/callback/'\n  };\n  console.log(props.location.search.slice(6));\n  useEffect(() => {\n    const asyncToken = async () => {\n      await getToken();\n    };\n\n    asyncToken();\n  }, []);\n\n  const getToken = async () => {\n    const response = await axios.post(api, authCode, config);\n    console.log(response);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }) //<Redirect to={{\n  //    pathname: '/',\n  //    state: {token: }\n  //}}/>\n  ;\n};\n\nexport default Callback;","map":{"version":3,"sources":["F:\\web_dev\\github\\SpoOsu\\client\\src\\components\\Callback.js"],"names":["React","useState","useEffect","Redirect","axios","Callback","props","token","setToken","api","config","headers","authCode","grant_type","code","location","search","slice","redirect_uri","console","log","asyncToken","getToken","response","post"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,QAAQ,GAAGC,KAAK,IAAI;AAAA,oBACIL,QAAQ,CAAC,IAAD,CADZ;AAAA;AAAA,QACfM,KADe;AAAA,QACRC,QADQ;;AAEtB,QAAMC,GAAG,GAAG,wCAAZ;AAEA,QAAMC,MAAM,GAAG;AACXC,IAAAA,OAAO,EAAE;AACL,sBAAgB,mCADX;AAEL,qCAA+B;AAF1B;AADE,GAAf;AAOA,QAAMC,QAAQ,GAAG;AACbC,IAAAA,UAAU,EAAE,oBADC;AAEbC,IAAAA,IAAI,EAAER,KAAK,CAACS,QAAN,CAAeC,MAAf,CAAsBC,KAAtB,CAA4B,CAA5B,CAFO;AAGbC,IAAAA,YAAY,EAAE;AAHD,GAAjB;AAMAC,EAAAA,OAAO,CAACC,GAAR,CAAYd,KAAK,CAACS,QAAN,CAAeC,MAAf,CAAsBC,KAAtB,CAA4B,CAA5B,CAAZ;AAEAf,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMmB,UAAU,GAAG,YAAY;AAC3B,YAAMC,QAAQ,EAAd;AACH,KAFD;;AAGAD,IAAAA,UAAU;AACb,GALQ,EAKN,EALM,CAAT;;AAOA,QAAMC,QAAQ,GAAG,YAAY;AACzB,UAAMC,QAAQ,GAAG,MAAMnB,KAAK,CAACoB,IAAN,CAAWf,GAAX,EAAgBG,QAAhB,EAA0BF,MAA1B,CAAvB;AACAS,IAAAA,OAAO,CAACC,GAAR,CAAYG,QAAZ;AACH,GAHD;;AAKA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAEI;AACA;AACA;AACA;AALJ;AAOH,CAtCD;;AAwCA,eAAelB,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\"\r\nimport { Redirect } from \"react-router\"\r\nimport axios from \"axios\"\r\n\r\nconst Callback = props => {\r\n    const [token, setToken] = useState(null)\r\n    const api = \"https://accounts.spotify.com/api/token\"\r\n\r\n    const config = {\r\n        headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n            \"Access-Control-Allow-Origin\": \"https://accounts.spotify.com/api/token\"\r\n        }\r\n    }\r\n\r\n    const authCode = {\r\n        grant_type: 'authorization_code',\r\n        code: props.location.search.slice(6),\r\n        redirect_uri: 'http://localhost:3000/callback/'\r\n    }\r\n\r\n    console.log(props.location.search.slice(6))\r\n\r\n    useEffect(() => {\r\n        const asyncToken = async () => {\r\n            await getToken()\r\n        }\r\n        asyncToken()\r\n    }, [])\r\n\r\n    const getToken = async () => {\r\n        const response = await axios.post(api, authCode, config)\r\n        console.log(response)\r\n    }\r\n\r\n    return (\r\n        <div />\r\n        //<Redirect to={{\r\n        //    pathname: '/',\r\n        //    state: {token: }\r\n        //}}/>\r\n    )\r\n}\r\n\r\nexport default Callback\r\n"]},"metadata":{},"sourceType":"module"}